<html><head><title>Enty API Docs</title><link rel="stylesheet" type="text/css" href="./screen.css"/></head><body><ul class="Navigation"><li class="Navigation_item"><strong>Modules</strong><ul class="Navigation_section"><li class="Navigation_item">Creators<ul class="Navigation_section"><li class="Navigation_item"><a href="#module:Creators.createEntityQuery">createEntityQuery</a></li><li class="Navigation_item"><a href="#module:Creators.createEntityReducer">createEntityReducer</a></li><li class="Navigation_item"><a href="#module:Creators.createRequestActionSet">createRequestActionSet</a></li><li class="Navigation_item"><a href="#module:Creators.createRequestAction">createRequestAction</a></li></ul></li><li class="Navigation_item">Actions<ul class="Navigation_section"><li class="Navigation_item"><a href="#module:Actions.deleteEntity">deleteEntity</a></li><li class="Navigation_item"><a href="#module:Actions.undoDeleteEntity">undoDeleteEntity</a></li></ul></li><li class="Navigation_item">Selectors<ul class="Navigation_section"><li class="Navigation_item"><a href="#module:Selectors.selectEntityByResult">selectEntityByResult</a></li><li class="Navigation_item"><a href="#module:Selectors.selectEntityById">selectEntityById</a></li><li class="Navigation_item"><a href="#module:Selectors.selectEntityByType">selectEntityByType</a></li><li class="Navigation_item"><a href="#module:Selectors.selectRequestState">selectRequestState</a></li></ul></li><li class="Navigation_item">Misc<ul class="Navigation_section"><li class="Navigation_item"><a href="#module:Misc.LocalStateHock">LocalStateHock</a></li><li class="Navigation_item"><a href="#module:Misc.PropChangeHock">PropChangeHock</a></li><li class="Navigation_item"><a href="#module:Misc.connectWithQuery">connectWithQuery</a></li><li class="Navigation_item"><a href="#module:Misc.logRequestActionNames">logRequestActionNames</a></li></ul></li></ul></li></ul><div class="Wrapper"><h1>Enty API Docs</h1><section><h2>Modules</h2><div><div class="Doclet" id="module:Creators"><div><h3>Creators</h3><div><div class="Doclet" id="module:Creators.createEntityQuery"><div><h4><span><span data-from="Name">createEntityQuery</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">createEntityQuery</span>(<span data-from="Param" class="Param Param-indent">sideEffect<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span></span></p><div><p>Takes an action creator and gives it a <code>resultKey</code>. wraps it in PropChangeHock, entitySelect and requestStateSelect</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>sideEffect</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"><p>action creator</p></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Creators.createEntityReducer"><div><h4><span><span data-from="Name">createEntityReducer</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">createEntityReducer</span>(<span data-from="Param" class="Param Param-indent">schemaMap<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><span>, </span></span><span></span><span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span></span></p><div><p>Returns a reducer that normalizes data based on the [normalizr] schemas provided. When an action is fired, if the type matches one provied in <code>schemaMap</code> the payload is normalized based off the given schema.
Takes a map of schemas where each key is an action name and value is a schema. must have at least one key called <code>mainSchema</code> returns a reducer that holds the main entity state.</p>
<pre class="prettyprint source lang-js"><code>import {createEntityReducer} from 'enty';
import EntitySchema from 'myapp/EntitySchema';

export default combineReducers({
    entity: createEntityReducer({
         schemaMap: {
             GRAPHQL_RECEIVE: EntitySchema,
             MY_CUSTOM_ACTION_RECEIVE: EntitySchema.myCustomActionSchema
         },
         beforeNormalize: (value, key) => value,
         afterNormalize: (value, key) => value,
    })
});</code></pre></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>schemaMap</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"><p>Map of schema action names.</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>config.beforeNormalize</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"><p>config.beforeNormalize function to edit payload data before it is normalized.</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>config.afterNormalize</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"><p>config.afterNormalize function to edit payload data after it is normalized.</p></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Creators.createRequestActionSet"><div><h4><span><span data-from="Name">createRequestActionSet</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">createRequestActionSet</span>(<span data-from="Param" class="Param Param-indent">actionMap<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">array</span></span></span></span></span></p><div><p>returns a <a href="thunk">redux-thunk</a> action creator that will dispatch the three states of our request action.
dispatch <code>fetchAction</code>
call <code>sideEffect</code>
then dispatch <code>recieveAction</code>
catch dispatch <code>errorAction</code></p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>actionMap</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"><p>deep object representation of api functions</p></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">array</span></span></span><div class="Text-mute"><p>list of action creators and action types</p></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Creators.createRequestAction"><div><h4><span><span data-from="Name">createRequestAction</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">createRequestAction</span>(<span data-from="Param" class="Param Param-indent">fetchAction<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">recieveAction<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">errorAction<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">sideEffect<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">array</span></span></span></span></span></p><div></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>fetchAction</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><div class="Text-mute"><p>action name for fetching action</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>recieveAction</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><div class="Text-mute"><p>action name for receiving action</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>errorAction</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><div class="Text-mute"><p>action name for error action</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>sideEffect</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"><p>Promise returning side effect to call after fetch action.</p></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">array</span></span></span><div class="Text-mute"><p>list of action creators and action types</p></div><span></span></li></ul></div></div></div></div></div></div><div class="Doclet" id="module:Actions"><div><h3>Actions</h3><div><div class="Doclet" id="module:Actions.deleteEntity"><div><h4><span><span data-from="Name">deleteEntity</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">deleteEntity</span>()</span></p><div><p>Returns an action creator that takes an entity key path as its payload
The entity reducer will then mark that entity as deleted.</p></div><div></div><span></span></div></div><div class="Doclet" id="module:Actions.undoDeleteEntity"><div><h4><span><span data-from="Name">undoDeleteEntity</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">undoDeleteEntity</span>()</span></p><div><p>Returns an action creator that takes an entity key path as its payload
The entity reducer will then mark that entity as NOT deleted.</p></div><div></div><span></span></div></div></div></div></div><div class="Doclet" id="module:Selectors"><div><h3>Selectors</h3><div><div class="Doclet" id="module:Selectors.selectEntityByResult"><div><h4><span><span data-from="Name">selectEntityByResult</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">selectEntityByResult</span>(<span data-from="Param" class="Param Param-indent">state<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">resultKey<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">schemaKey<span>?</span><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">object</span></span></span></span></span></p><div><p>The primary means of accessing entity state. Given a requestKey it will return the denormalized state object.</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>state</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>resultKey</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><div class="Text-mute"></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>schemaKey</strong><span data-from="ParamTypes">: <span class="ParamTypes">?<span data-from="ParamType">string</span></span></span><span class="ParamTypes"> = ENTITY_RECEIVE</span><div class="Text-mute"></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"><p>entity map</p></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Selectors.selectEntityById"><div><h4><span><span data-from="Name">selectEntityById</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">selectEntityById</span>(<span data-from="Param" class="Param Param-indent">state<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">path<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">array</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">schemaKey<span>?</span><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">object</span></span></span></span></span></p><div><p>Given a type and id of and entity in state it will return the denormalized state.
This function is only used when you are certain you need the exact id in entity state.
Most often the request key is more appropriate.</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>state</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>path</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">array</span></span></span><div class="Text-mute"></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>schemaKey</strong><span data-from="ParamTypes">: <span class="ParamTypes">?<span data-from="ParamType">string</span></span></span><span class="ParamTypes"> = ENTITY_RECEIVE</span><div class="Text-mute"></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"><p>entity map</p></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Selectors.selectEntityByType"><div><h4><span><span data-from="Name">selectEntityByType</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">selectEntityByType</span>(<span data-from="Param" class="Param Param-indent">state<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">type<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">schemaKey<span>?</span><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">Immutable.List</span></span></span></span></span></p><div><p>Access a whole entity type as a list</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>state</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>type</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><div class="Text-mute"></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>schemaKey</strong><span data-from="ParamTypes">: <span class="ParamTypes">?<span data-from="ParamType">string</span></span></span><span class="ParamTypes"> = ENTITY_RECEIVE</span><div class="Text-mute"></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">Immutable.List</span></span></span><div class="Text-mute"><p>entity list</p></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Selectors.selectRequestState"><div><h4><span><span data-from="Name">selectRequestState</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">selectRequestState</span>(<span data-from="Param" class="Param Param-indent">state<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">requestStateKey<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">object</span></span></span></span></span></p><div><p>Returns the state of a current request. Either fetching, error or not yet requested.</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>state</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"><p>the current state</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>requestStateKey</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><div class="Text-mute"><p>either result key or action prefix</p></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"><p>the curerent request state</p></div><span></span></li></ul></div></div></div></div></div></div><div class="Doclet" id="module:Misc"><div><h3>Misc</h3><div><div class="Doclet" id="module:Misc.LocalStateHock"><div><h4><span><span data-from="Name">LocalStateHock</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">LocalStateHock</span>(<span data-from="Param" class="Param Param-indent">reducer<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span></span></p><div><p><code>LocalStateHock(reducer: function(state, action)) =&gt; function(component: Component)</code>
Wraps a component with a tiny implementation of the redux concept. Takes a reducer and returns a function ready to call with a component. The hock gives the component <code>props.localDispatch</code>which triggers the reducer. the return state of the reducer is then destructured on to the components as props.</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>reducer</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"><p>a function that acts as a local reducer</p></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"><p>componentCreator    function to pass react component</p></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Misc.PropChangeHock"><div><h4><span><span data-from="Name">PropChangeHock</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">PropChangeHock</span>(<span data-from="Param" class="Param Param-indent">propKeys<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">Array</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">outputFunction<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span>)<span><span>: </span><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span></span></span></p><div><pre class="prettyprint source lang-js"><code>PropChangeHock(propKeys: [String], sideEffect: function) => (component: Component) => Component</code></pre><p>The prop change hock takes a side effect and an array of prop keys paths.
The component then listens for component mount and receive props.
If any of the provided props change the side effect is triggered.</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>propKeys</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">Array</span></span></span><div class="Text-mute"><p>list of strings of prop keys</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>outputFunction</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"></div><span></span></li></ul></div><div class="ParamList"><h5>Returns</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong></strong><span data-from="ParamTypes"><span class="ParamTypes"><span data-from="ParamType">function</span></span></span><div class="Text-mute"><p>componentCreator    function to pass react component</p></div><span></span></li></ul></div></div></div><div class="Doclet" id="module:Misc.connectWithQuery"><div><h4><span><span data-from="Name">connectWithQuery</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">connectWithQuery</span>()</span></p><div><p>connectWithQuery</p></div><div></div><span></span></div></div><div class="Doclet" id="module:Misc.logRequestActionNames"><div><h4><span><span data-from="Name">logRequestActionNames</span>()</span></h4><p class="FunctionDetail"><span><span>function </span><span data-from="Name">logRequestActionNames</span>(<span data-from="Param" class="Param Param-indent">actionMap<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><span>, </span></span><span data-from="Param" class="Param Param-indent">prefix<span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span></span>)</span></p><div><p>Given the return value of creatRequestActionSet it will log the names of the created action types and creators</p></div><div></div><div class="ParamList"><h5>Params</h5><ul><li data-from="ParamListItem" class="ParamListItem"><strong>actionMap</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">object</span></span></span><div class="Text-mute"><p>map of actions</p></div><span></span></li><li data-from="ParamListItem" class="ParamListItem"><strong>prefix</strong><span data-from="ParamTypes">: <span class="ParamTypes"><span data-from="ParamType">string</span></span></span><div class="Text-mute"><p>String to prefix actions types with</p></div><span></span></li></ul></div></div></div></div></div></div></div></section></div></body></html>